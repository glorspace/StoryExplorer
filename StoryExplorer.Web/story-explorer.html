<link rel="import" href="elements.html">
<link rel="import" href="custom-elements/se-login.html">
<link rel="import" href="custom-elements/se-adventurer.html">
<link rel="import" href="custom-elements/se-new-adventurer.html">
<link rel="import" href="custom-elements/se-edit-adventurer.html">

<dom-module id="story-explorer">
    <template>
        <style is="custom-style">
            :root {
                --paper-card-header: {
                    background-color: lightgreen;
                };
                --paper-card-actions: {
                    background-color: green;
                };
                --paper-card: {
                    box-sizing: border-box;
                    max-width: 600px;
                    margin: 3px;
                    flex: 0 0 auto;                    
                };
                --paper-button: {
                    background-color: white;
                };
            }
        </style>
        <iron-pages attr-for-selected="value" selected="{{selectedView}}">
            <se-login value="login"></se-login>
            <se-adventurer value="adventurer" adventurer-id="{{selectedAdventurerId}}"></se-adventurer>
            <se-new-adventurer value="new-adventurer"></se-new-adventurer>
            <se-edit-adventurer value="edit-adventurer" adventurer-id="{{selectedAdventurerId}}"></se-edit-adventurer>
        </iron-pages>
    </template>

    <script>
        Polymer({
            is: 'story-explorer',
            properties: {
                selectedView: { type: String, notify: true, value: 'login'},
                selectedAdventurerId: { type: Number, notify: true }
            },
            ready: function () {
                self = this;
                window.addEventListener('change-view', function (e) {
                    self.selectedView = e.detail.view;
                    if (e.detail.id)
                        self.selectedAdventurerId = e.detail.id;
                });
            }
        });
    </script>
</dom-module>